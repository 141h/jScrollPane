/*
 * jScrollPane - v2.0.0beta1 - 2010-08-02
 * http://jscrollpane.kelvinluck.com/
 *
 * Copyright (c) 2010 Kelvin Luck
 * Dual licensed under the MIT and GPL licenses.
 */
(function(b,a,c){b.fn.jScrollPane=function(d){d=b.extend({},b.fn.jScrollPane.defaults,d);return this.each(function(){var u=b(this);var x,j;var m=u.data("jsp");if(m==c){m={};u.data("jsp",m)}var n=u.parent(".jspContainer");if(n.length==0){u.css("overflow","hidden");x=u.innerWidth();j=u.innerHeight();u.css("overflow","visible");u.wrap(b("<div />").addClass("jspContainer").css({width:x+"px",height:j+"px"}));n=u.parent()}else{x=n.outerWidth();j=n.outerHeight();n.find(".jspVerticalBar,.jspHorizontalBar").remove().end()}u.css({width:"auto",height:"auto"});var w=u.clone().css("position","absolute");var s=b('<div style="width:1px; position: relative;" />').append(w);b("body").append(s);var r=Math.max(u.outerWidth(),w.outerWidth());s.remove();var t=u.outerHeight();var i=r/x;var y=t/j;var h=y>0.99;var p=i>1;if(!(p||h)){u.removeClass("scrollable");u.css("top",0)}else{u.addClass("scrollable");var q=function(B,A){return function(){k(B,A);this.blur();return false}};if(h){n.append(b('<div class="jspVerticalBar" />').append(b('<div class="jspCap jspCapTop" />'),b('<div class="jspTrack" />').append(b('<div class="jspDrag" />').append(b('<div class="jspDragTop" />'),b('<div class="jspDragBottom" />'))),b('<div class="jspCap jspCapBottom" />')));var o=n.find(">.jspVerticalBar");var v=o.find(">.jspTrack");var f=v.find(">.jspDrag");var g=parseInt(o.css("left"))>parseInt(o.css("right"))?"right":"left";u.css("margin-"+g,(d.gutter+v.outerWidth())+"px");t=u.outerHeight();y=t/j;if(d.showArrows){var z=b('<a href="#" class="jspArrow jspArrowUp">Scroll up</a>').bind("click",q(0,-1));var l=b('<a href="#" class="jspArrow jspArrowDown">Scroll down</a>').bind("click",q(0,1));v.before(z).after(l)}var e=j;n.find(">.jspVerticalBar>.jspCap,>.jspVerticalBar>.jspArrow").each(function(){e-=b(this).outerHeight()});v.height(e+"px");f.height((1/y*e)+"px")}var k=function(B,A){}}})};b.fn.jScrollPane.defaults={showArrows:false,gutter:4}})(jQuery,this);